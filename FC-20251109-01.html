<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í†µí•© íŒ©íŠ¸ ì²´í¬ ì‹œê°í™” ë¦¬í¬íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans KR', sans-serif; background-color: #121723; color: #d1d5db; }
        .chart-container { background-color: #1a2233; border: 1px solid #374151; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); padding: 1.5rem; transition: box-shadow 0.3s ease-in-out, border-color 0.3s; }
        .chart-container:hover { border-color: #4f5b70; }
        .tooltip { position: absolute; max-width: 320px; padding: 0.75rem; font-size: 0.875rem; background: rgba(45, 55, 72, 0.95); color: white; border-radius: 0.375rem; pointer-events: none; opacity: 0; transition: opacity 0.2s; line-height: 1.5; z-index: 10; }
        .tooltip-risk { font-weight: bold; color: #F1C40F; }
        .chart-title { font-size: 1.5rem; font-weight: 600; color: #f9fafb; margin-bottom: 1.5rem; text-align: center; }
        .legend-item { display: flex; align-items: center; font-size: 0.875rem; margin-right: 1.5rem; margin-bottom: 0.5rem; color: #9ca3af; }
        .legend-color { width: 0.85rem; height: 0.85rem; border-radius: 50%; margin-right: 0.5rem; }
        .axis-label, .axis text { fill: #9ca3af; }
        svg text { font-family: 'Inter', 'Noto Sans KR', sans-serif; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-white">AIA ê³ ë°€ë„ ê°ì‚¬ ë¦¬í¬íŠ¸ ì‹œê°í™”</h1>
            <p class="text-lg text-gray-400 mt-2">ì´ 86ê°œ í•­ëª©ì— ëŒ€í•œ ì‹¬ì¸µ ë¶„ì„ ê²°ê³¼</p>
            <p class="text-md text-blue-300 mt-3 italic">ë¶„ì„ ëŒ€ìƒ: ì—„ë§ˆì˜ ì •ë³´ë ¥ê³¼ ì•„ë¹ ì˜ ë¬´ê´€ì‹¬...ì´ì œëŠ” 'ë¶€ëª¨ì˜ ê³µë¶€ë ¥'ì´ë‹¤</p>
        </header>
        <section class="mb-12">
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                <div class="lg:col-span-2 chart-container">
                    <h2 class="chart-title">ì¢…í•© ê²€ì¦ ê²°ê³¼</h2>
                    <div id="donut-chart" class="w-full h-80 flex items-center justify-center"></div>
                    <div id="donut-legend" class="flex flex-wrap justify-center mt-4"></div>
                </div>
                <div class="lg:col-span-3 chart-container">
                    <h2 class="chart-title">ë¦¬ìŠ¤í¬ ì§€ìˆ˜ë³„ ê²€ì¦ í˜„í™©</h2>
                    <div id="bar-chart" class="w-full h-80"></div>
                    <div id="bar-examples" class="mt-4 space-y-2 text-xs text-gray-400"></div>
                </div>
            </div>
        </section>
        <section>
            <div class="chart-container">
                <header class="text-center mb-6">
                    <h2 class="chart-title">ë¦¬ìŠ¤í¬-ì¹´í…Œê³ ë¦¬ë³„ íŒ©íŠ¸ ì²´í¬ ë¶„ì„</h2>
                    <p class="text-md text-gray-400 -mt-4">ë²„ë¸”ì˜ í¬ê¸°ëŠ” ë¦¬ìŠ¤í¬ ì§€ìˆ˜ë¥¼, ìƒ‰ìƒì€ ê²€ì¦ ê²°ê³¼ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                </header>
                <div id="bubble-chart-legend" class="flex flex-wrap justify-center mb-6"></div>
                <div id="bubble-chart" class="w-full h-[650px]"></div>
            </div>
        </section>
    </div>
    <div class="tooltip"></div>
<script>
    const tooltip = d3.select(".tooltip");
    const statusColors = {'ê²€ì¦ ì™„ë£Œ': '#2ECC71', 'ë§¥ë½ìƒ ì‚¬ì‹¤': '#3498DB', 'ì¼ë¶€ í™•ì¸ë¨': '#F1C40F', 'ë¶€ì •í™•í•¨': '#E74C3C', 'í™•ì¸ ë¶ˆê°€': '#95A5A6'};
    const statusIcons = {'ê²€ì¦ ì™„ë£Œ': 'ğŸŸ¢', 'ë§¥ë½ìƒ ì‚¬ì‹¤': 'ğŸ”µ', 'ì¼ë¶€ í™•ì¸ë¨': 'ğŸŸ¡', 'ë¶€ì •í™•í•¨': 'ğŸ”´', 'í™•ì¸ ë¶ˆê°€': 'ğŸŸ£'};
    const statusOrder = ['ê²€ì¦ ì™„ë£Œ', 'ë§¥ë½ìƒ ì‚¬ì‹¤', 'ì¼ë¶€ í™•ì¸ë¨', 'ë¶€ì •í™•í•¨', 'í™•ì¸ ë¶ˆê°€'];
    const validCategories = ['ê°œë…', 'í†µê³„', 'ì£¼ì¥', 'ì¸ìš©', 'ì‚¬ë¡€', 'ì‚¬ì‹¤', 'ëª©í‘œ', 'ë¶„ì„', 'ì „ëµ', 'ê°€ì„¤', 'ë¹„ìœ ', 'ìš©ì–´'];
    
    // âš ï¸ AIA CRITICAL: REPLACE THE ARRAYS BELOW WITH YOUR ACTUAL DATA FROM PHASE 4
    // Copy-paste the exact arrays you generated in Phase 4
    const donutData = [
      {status: 'ê²€ì¦ ì™„ë£Œ', count: 29},
      {status: 'ë§¥ë½ìƒ ì‚¬ì‹¤', count: 51},
      {status: 'ì¼ë¶€ í™•ì¸ë¨', count: 0},
      {status: 'ë¶€ì •í™•í•¨', count: 0},
      {status: 'í™•ì¸ ë¶ˆê°€', count: 6}
    ];
    const barData = [
      {
        level: 'ê³ ìœ„í—˜ (80+)',
        'ê²€ì¦ ì™„ë£Œ': 24,
        'ë§¥ë½ìƒ ì‚¬ì‹¤': 4,
        'ì¼ë¶€ í™•ì¸ë¨': 0,
        'ë¶€ì •í™•í•¨': 0,
        'í™•ì¸ ë¶ˆê°€': 0,
        total: 28,
        example: '2025ë…„ ìƒë°˜ê¸° ë‚¨ì„± ìœ¡ì•„íœ´ì§ 36.4%'
      },
      {
        level: 'ì¤‘ìœ„í—˜ (50-79)',
        'ê²€ì¦ ì™„ë£Œ': 5,
        'ë§¥ë½ìƒ ì‚¬ì‹¤': 29,
        'ì¼ë¶€ í™•ì¸ë¨': 0,
        'ë¶€ì •í™•í•¨': 0,
        'í™•ì¸ ë¶ˆê°€': 0,
        total: 34,
        example: 'ë¶€ëª¨ì˜ ê³µë¶€ë ¥ì´ ìƒˆë¡œìš´ ê²©ì°¨ë¥¼ ë§Œë“ ë‹¤'
      },
      {
        level: 'ì €ìœ„í—˜ (<50)',
        'ê²€ì¦ ì™„ë£Œ': 0,
        'ë§¥ë½ìƒ ì‚¬ì‹¤': 18,
        'ì¼ë¶€ í™•ì¸ë¨': 0,
        'ë¶€ì •í™•í•¨': 0,
        'í™•ì¸ ë¶ˆê°€': 6,
        total: 24,
        example: 'í•„ì, \'í‰ìƒ ê³µë¶€\' ì—­ì„¤'
      }
    ];
    const bubbleData = [
      {no: 1, category: 'í†µê³„', risk: 99, fact: '2025ë…„ ìƒë°˜ê¸°ì—ë§Œ ë‚¨ì„± ìœ¡ì•„íœ´ì§ì ë¹„ìœ¨ì€ 36.4%ì— ìœ¡ë°•í–ˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 2, category: 'í†µê³„', risk: 99, fact: '(2025ë…„ ìƒë°˜ê¸° ë‚¨ì„± ìœ¡ì•„íœ´ì§ìëŠ”) ì „ë…„ ë™ê¸° ëŒ€ë¹„ 54.2% í­ë°œì ì¸ ì¦ê°€ì„¸ë¥¼ ë³´ì˜€ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 3, category: 'í†µê³„', risk: 98, fact: '2024ë…„ ê¸°ì¤€ ì „ì²´ ìœ¡ì•„íœ´ì§ì ì¤‘ ë‚¨ì„±ì˜ ë¹„ìœ¨ì€ ì‚¬ìƒ ì²˜ìŒìœ¼ë¡œ 30%ë¥¼ ëŒíŒŒí–ˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 4, category: 'í†µê³„', risk: 97, fact: '(ë‚¨ì„± ìœ¡ì•„íœ´ì§ì ë¹„ìœ¨ì€) 9ë…„ ë§Œì— 9ë°°ê°€ ì¦ê°€í•œ ìˆ˜ì¹˜ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 5, category: 'ì‚¬ì‹¤', risk: 96, fact: 'ì´ëŸ¬í•œ í•™ìŠµì€ KDI(í•œêµ­ê°œë°œì—°êµ¬ì›)ì˜ ì—°êµ¬ì™€ ë§ë‹¿ì•„ ìˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 6, category: 'ì‚¬ì‹¤', risk: 95, fact: 'ì´ëŠ” ê³ ìš©ë…¸ë™ë¶€ì˜ ë°ì´í„°ë¡œ ì¦ëª…ëœë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 7, category: 'ì‚¬ì‹¤', risk: 95, fact: '2025ë…„ êµìœ¡ê³„ í™”ë‘ëŠ” \'AI ë””ì§€í„¸ êµê³¼ì„œ\' ë„ì…ì´ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 8, category: 'ì‚¬ì‹¤', risk: 94, fact: 'ë³´ê±´ë³µì§€ë¶€ê°€ \'100ì¸ì˜ ì•„ë¹ ë‹¨\' ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìš´ì˜í•œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 9, category: 'ì¸ìš©', risk: 93, fact: '\'ì˜¨ì •ì„±ì´ ë†’ê³  í†µì œì„±ì´ ë‚®ì€\' ë¶€ë“œëŸ¬ìš´ ì•„ë¹ ì˜ ì—­í• ì´ (ì•„ì´ ë°œë‹¬ì—) ê¸ì •ì  ì˜í–¥ì„ ë¯¸ì¹œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 10, category: 'ì¸ìš©', risk: 93, fact: '(ë¶€ë“œëŸ¬ìš´ ì•„ë¹ ì˜ ì—­í• ì€) ì•„ì´ì˜ ìˆ˜ìš©ì–´íœ˜ë ¥ ë°œë‹¬ì— ê¸ì •ì  ì˜í–¥ì„ ë¯¸ì¹œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 11, category: 'ì‚¬ì‹¤', risk: 93, fact: 'OECDê°€ \'2025 êµìœ¡í˜•ì„±íŠ¸ë Œë“œ\'ë¥¼ ë°œí‘œí–ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 12, category: 'ì‚¬ì‹¤', risk: 92, fact: 'ì •ë¶€ì˜ \'ë¶€ëª¨í•¨ê»˜ ìœ¡ì•„íœ´ì§ì œ\'ê°€ (ì´ëŸ¬í•œ ì¦ê°€ì˜) ìš”ì¸ ì¤‘ í•˜ë‚˜ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 13, category: 'ì¸ìš©', risk: 92, fact: '(KDI ì—°êµ¬ ëŒ€ìƒì€) 60~66ê°œì›” ê¸°ì¤€ ì•„ì´ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 14, category: 'ì‚¬ì‹¤', risk: 90, fact: 'ì¡°ì„ ì¼ë³´ê°€ \'ìë…€ ê³µë¶€ í•¨ê»˜ í•˜ëŠ” í˜ì´ìŠ¤ë©”ì´ì»¤ ë¶€ëª¨ë“¤\' ê¸°ì‚¬ë¥¼ í†µí•´ (ì´ëŸ¬í•œ ë³€í™”ë¥¼) ì†Œê°œí–ˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 15, category: 'ìš©ì–´', risk: 90, fact: '(KDI ì—°êµ¬ëŠ”) \'ì•„ë¹  íš¨ê³¼(Dad Effect)\'ë¥¼ ë‹¤ë£¬ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 16, category: 'ì‚¬ì‹¤', risk: 90, fact: '2025ë…„ êµìœ¡ê³„ í™”ë‘ëŠ” ê³ êµí•™ì ì œì´ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 17, category: 'ì‚¬ì‹¤', risk: 90, fact: 'ëŒ€í•œë¯¼êµ­ ì •ì±…ë¸Œë¦¬í•‘ì€ (ê´€ë ¨) ë¶„ì„ì„ ë‚´ë†“ì•˜ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 18, category: 'ì‚¬ì‹¤', risk: 88, fact: 'ë‚¨ì„± ìœ¡ì•„íœ´ì§ì´ ì¤‘ì†Œê¸°ì—…(ìš°ì„ ì§€ì›ëŒ€ìƒê¸°ì—…)ìœ¼ë¡œ í™•ì‚°ë˜ê³  ìˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 19, category: 'ì‚¬ì‹¤', risk: 88, fact: '2025ë…„ êµìœ¡ê³„ í™”ë‘ëŠ” í†µí•©í˜• ìˆ˜ëŠ¥ì´ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 20, category: 'í†µê³„', risk: 88, fact: 'ìµœê·¼ ë‘˜ì§¸ ì•„ì´ì˜ ì¶œì‚° ë¹„ì¤‘ì´ ìƒìŠ¹í•˜ê³  ìˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 21, category: 'ì£¼ì¥', risk: 85, fact: 'ì´ ì˜¤ë˜ëœ ê³µì‹ì€ í†µê³„ì—ì„œ ë¬´ë„ˆì§€ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 22, category: 'ì‚¬ì‹¤', risk: 85, fact: 'ì•„ë¹ ë“¤ì€ (100ì¸ì˜ ì•„ë¹ ë‹¨ì—ì„œ) ë†€ì´ë²•ì„ ì²´ê³„ì ìœ¼ë¡œ ê³µìœ /í•™ìŠµí•œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 23, category: 'ì‚¬ì‹¤', risk: 85, fact: 'ì•„ë¹ ë“¤ì€ (100ì¸ì˜ ì•„ë¹ ë‹¨ì—ì„œ) êµìœ¡ë²•ì„ ì²´ê³„ì ìœ¼ë¡œ ê³µìœ /í•™ìŠµí•œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 24, category: 'ì‚¬ì‹¤', risk: 85, fact: 'ì•„ë¹ ë“¤ì€ (100ì¸ì˜ ì•„ë¹ ë‹¨ì—ì„œ) í›ˆìœ¡ë²•ì„ ì²´ê³„ì ìœ¼ë¡œ ê³µìœ /í•™ìŠµí•œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 25, category: 'ì£¼ì¥', risk: 80, fact: 'ì´ ì˜¤ë˜ëœ ê³µì‹ì€ í˜„ì‹¤ì—ì„œ ë¬´ë„ˆì§€ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 26, category: 'ì£¼ì¥', risk: 80, fact: '2025ë…„ ë“¤ì–´ (ë‚¨ì„± ìœ¡ì•„íœ´ì§) ì¶”ì„¸ëŠ” ë”ìš± ê°€ì†í™”ë˜ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 27, category: 'ì¸ìš©', risk: 80, fact: '(OECD íŠ¸ë Œë“œì— ë”°ë¥´ë©´) AIì™€ì˜ í˜‘ì—…ì´ ëŠ˜ì–´ë‚œë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 28, category: 'ì¸ìš©', risk: 80, fact: '(OECD íŠ¸ë Œë“œì— ë”°ë¥´ë©´) ì¸ê°„ ê°„ ìƒí˜¸ì‘ìš©ì´ ì¤„ì–´ë“ ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 29, category: 'ì£¼ì¥', risk: 75, fact: 'ìë…€ì˜ ë¯¸ë˜ëŠ” \'ë¶€ëª¨ì˜ ê³µë¶€ë ¥\'ì— ì˜í•´ ì¢Œìš°ë˜ëŠ” ì‹œëŒ€ë¡œ ì ‘ì–´ë“¤ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 30, category: 'ìš©ì–´', risk: 75, fact: 'ì§€ê¸ˆì€ \'ìŠ¤í„°ë””íŒŒíŒŒ(Study Papa)\'ë¡œ ì§„í™”í•˜ëŠ” 2ë‹¨ê³„ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 31, category: 'ë¶„ì„', risk: 75, fact: '(ë‘˜ì§¸ ì¶œì‚° ë¹„ì¤‘ ìƒìŠ¹ì€) ì¶œì‚°ìœ¨ ë°˜ë“±ì˜ ê¸ì •ì  ì‹ í˜¸ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 32, category: 'ì£¼ì¥', risk: 70, fact: 'ì´ì œëŠ” \'ë¶€ëª¨ì˜ ê³µë¶€ë ¥\'ì´ ìƒˆë¡œìš´ ê²©ì°¨ë¥¼ ë§Œë“¤ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 33, category: 'ë¶„ì„', risk: 70, fact: 'ì•„ë¹ ë“¤ì€ \'ë•ëŠ” ì‚¬ëŒ\'ì´ ì•„ë‹Œ \'ì£¼ì²´\'ë¡œ ìœ¡ì•„ì— ë›°ì–´ë“¤ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 34, category: 'ë¶„ì„', risk: 70, fact: 'ì•„ë¹ ë“¤ì€ \'ë•ëŠ” ì‚¬ëŒ\'ì´ ì•„ë‹Œ \'ì£¼ì²´\'ë¡œ êµìœ¡ ì „ì„ ì— ë›°ì–´ë“¤ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 35, category: 'ìš©ì–´', risk: 70, fact: '2010ë…„ëŒ€ \'ë¼ë–¼íŒŒíŒŒ(Latte Papa)\'ëŠ” ë¶ìœ ëŸ½ì‹ ì•„ë¹ ë¥¼ ìƒì§•í–ˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 36, category: 'ì‚¬ì‹¤', risk: 70, fact: 'ë‚¨ì„±ë“¤ì˜ ìœ¡ì•„ ì°¸ì—¬ê°€ í™•ì‚°ë˜ê³  ìˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 37, category: 'ì‚¬ì‹¤', risk: 70, fact: 'ê¸°ì—…ì˜ (ìœ¡ì•„) ì§€ì› ë¬¸í™”ê°€ í™•ì‚°ë˜ê³  ìˆë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 38, category: 'ì£¼ì¥', risk: 65, fact: 'ì—„ë§ˆë“¤ì€ íŒŒí¸í™”ëœ ì •ë³´ ìˆ˜ì§‘ì„ ë„˜ì–´ êµìœ¡ ì‹œìŠ¤í…œ ìì²´ë¥¼ \'í•™ìŠµ\'í•´ì•¼ í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 39, category: 'ë¶„ì„', risk: 65, fact: '\'ë¬´ê´€ì‹¬\'í–ˆë˜ ì•„ë¹ ë“¤ì´ ë¬¼ë¦¬ì ìœ¼ë¡œ ê°€ì •ìœ¼ë¡œ ëŒì•„ì˜¤ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 40, category: 'ìš©ì–´', risk: 65, fact: '\'ë¼ë–¼íŒŒíŒŒ\'ëŠ” í•œ ì†ì— ì»¤í”¼ë¥¼ ë“¤ê³  ìœ ëª¨ì°¨ë¥¼ ë„ëŠ” ëª¨ìŠµì´ë‹¤.', status: 'ê²€ì¦ ì™„ë£Œ'},
      {no: 41, category: 'ì£¼ì¥', risk: 65, fact: '\'ì—„ë§ˆì˜ ì •ë³´ë ¥\' ì—­ì‹œ ì§ˆì ì¸ ì§„í™”ë¥¼ ìš”êµ¬ë°›ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 42, category: 'ì£¼ì¥', risk: 65, fact: 'ë¶€ëª¨ë“¤ì€ "AI ë””ì§€í„¸ êµê³¼ì„œê°€ ì•„ì´ì˜ ë¬¸í•´ë ¥ì— ë¯¸ì¹  ì˜í–¥"ì„ ê³µë¶€í•´ì•¼ í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 43, category: 'ì£¼ì¥', risk: 60, fact: '\'ì—„ë§ˆì˜ ì •ë³´ë ¥\'ì€ ëŒ€í•œë¯¼êµ­ êµìœ¡ ì‹ í™”ë¥¼ ì§€íƒ±í•˜ë˜ ê¸°ë‘¥ì´ì—ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 44, category: 'ì£¼ì¥', risk: 60, fact: '\'ì•„ë¹ ì˜ ë¬´ê´€ì‹¬\'ì€ ëŒ€í•œë¯¼êµ­ êµìœ¡ ì‹ í™”ë¥¼ ì§€íƒ±í•˜ë˜ ê¸°ë‘¥ì´ì—ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 45, category: 'ë¶„ì„', risk: 60, fact: '\'ì•„ë¹ ì˜ ë¬´ê´€ì‹¬\'ì´ë¼ëŠ” ê³ ì •ê´€ë…ì´ ë¶•ê´´ë˜ê³  ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 46, category: 'ê°€ì„¤', risk: 60, fact: 'ë‚¨ì„± ìœ¡ì•„íœ´ì§ì´ ê³¼ê±° ëŒ€ê¸°ì—…ì˜ ì „ìœ ë¬¼ë¡œ ì—¬ê²¨ì¡Œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 47, category: 'ê°œë…', risk: 60, fact: '(ìŠ¤í„°ë””íŒŒíŒŒëŠ”) ì•„ì´ì™€ \'ì–´ë–»ê²Œ\' ì‹œê°„ì„ ë³´ë‚¼ì§€ë¥¼ ê³ ë¯¼í•˜ê³  \'í•™ìŠµ\'í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 48, category: 'ë¶„ì„', risk: 60, fact: 'í˜„ëŒ€ì˜ ì•„ë¹ ë“¤ì€ ìë…€ì˜ ì •ì„œ ë°œë‹¬ì— íš¨ìœ¨ì ì¸ ì—­í• ì„ ê³µë¶€í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 49, category: 'ë¶„ì„', risk: 60, fact: 'í˜„ëŒ€ì˜ ì•„ë¹ ë“¤ì€ ìë…€ì˜ ì–¸ì–´ ë°œë‹¬ì— íš¨ìœ¨ì ì¸ ì—­í• ì„ ê³µë¶€í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 50, category: 'ê°œë…', risk: 60, fact: 'í˜„ì¬ì˜ ì •ë³´ë ¥ì€ \'ì‹œìŠ¤í…œ í•´ë…ë ¥\'ì— ê°€ê¹ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 51, category: 'ì£¼ì¥', risk: 60, fact: 'ë¶€ëª¨ë“¤ì€ "ê°€ì •ì—ì„œ (AI êµê³¼ì„œë¥¼) ì–´ë–»ê²Œ ë³´ì™„í•´ì•¼ í•˜ëŠ”ê°€"ë¥¼ ê³µë¶€í•´ì•¼ í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 52, category: 'ë¶„ì„', risk: 55, fact: 'ì´ëŠ” ë‹¨ìˆœíˆ \'ê¹¨ì–´ìˆëŠ”\' ì•„ë¹ ë“¤ì˜ ì„ íƒì´ ì•„ë‹ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 53, category: 'ë¶„ì„', risk: 55, fact: '(ì•„ë¹ ë“¤ì˜ ê·€í™˜ì€) \'êµìœ¡ ì£¼ì²´\'ë¡œì˜ ì§„í™”ë¥¼ ì˜ë¯¸í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 54, category: 'ê°œë…', risk: 55, fact: '(í˜„ì¬ ì •ë³´ë ¥ì€) ë³µì¡ë‹¤ë‹¨í•´ì§„ êµìœ¡ ì‹œìŠ¤í…œ ìì²´ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 55, category: 'ë¶„ì„', risk: 55, fact: '(ì´ëŸ° ì‹œëŒ€ì—) ë¶€ëª¨ì˜ ì—­í• ì€ ë”ìš± ë³µì¡í•´ì¡Œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 56, category: 'ì£¼ì¥', risk: 50, fact: '\'ì•„ë¹ ì˜ ë¬´ê´€ì‹¬\'ì€ ì˜›ë§ì´ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 57, category: 'ì£¼ì¥', risk: 50, fact: '(ì•„ë¹ ë“¤ì˜ ë¬¼ë¦¬ì  ë³µê·€ëŠ”) \'ë¶€ëª¨ì˜ ê³µë¶€ë ¥\' ì‹œëŒ€ë¥¼ ì—° ì²« ë²ˆì§¸ ì „ì œ ì¡°ê±´ì´ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 58, category: 'ì‚¬ë¡€', risk: 50, fact: '(100ì¸ì˜ ì•„ë¹ ë‹¨ì€) ëŒ€í‘œì ì¸ (ìŠ¤í„°ë””íŒŒíŒŒ) ì‚¬ë¡€ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 59, category: 'ë¶„ì„', risk: 50, fact: 'ê³¼ê±°ì˜ ì •ë³´ë ¥ì€ \'ì„ ë³„ì  íë ˆì´ì…˜\'ì— ê°€ê¹Œì› ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 60, category: 'ì£¼ì¥', risk: 50, fact: 'ì´ëŠ” ë§˜ì¹´í˜ì˜ \'ìª½ì§€\'ë¡œ í•´ê²°ë  ìˆ˜ ì—†ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 61, category: 'ë¹„ìœ ', risk: 50, fact: 'ê³¼ê±° \'í• ì•„ë²„ì§€ì˜ ì¬ë ¥\'ì´ ê²©ì°¨ë¥¼ ë§Œë“¤ì—ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 62, category: 'ë¹„ìœ ', risk: 50, fact: 'ê³¼ê±° \'ì—„ë§ˆì˜ ì •ë³´ë ¥\'ì´ ê²©ì°¨ë¥¼ ë§Œë“¤ì—ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 63, category: 'ì£¼ì¥', risk: 45, fact: 'ì•„ë¹ ë“¤ì˜ ê·€í™˜ì€ \'ëŒë´„ ë…¸ë™\'ì˜ ë¶„ë‹´ì„ ë„˜ì–´ì„ ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 64, category: 'ë¶„ì„', risk: 45, fact: '(ì•„ë¹ ë“¤ì€) \'ì¢‹ì€ ì•„ë¹ \'ê°€ ë˜ëŠ” ë²•ì„ ìŠ¤í„°ë””í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 65, category: 'ë¶„ì„', risk: 45, fact: 'ì´ëŠ” ê³ ë„ì˜ \'í•™ìŠµ\' ì˜ì—­ì´ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 66, category: 'ê°œë…', risk: 45, fact: '(ë¶€ëª¨ì˜ ê³µë¶€ë ¥ì€) ë¶€ëª¨ê°€ \'í•™ìŠµ ê³µë™ì²´\'ë¡œì„œ í•¨ê»˜ ê³ ë¯¼í•˜ê³  ì„±ì¥í•˜ëŠ” ê²ƒì´ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 67, category: 'ì£¼ì¥', risk: 45, fact: 'í”„ë¡œì íŠ¸ì˜ ì„±ê³µ ì—¬ë¶€ëŠ” ë¶€ëª¨ê°€ ìì‹ ì˜ \'ê³µë¶€ì±…\'ì„ í¼ì³ ë“œëŠ” í˜ì— ë‹¬ë ¤ìˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 68, category: 'ì£¼ì¥', risk: 40, fact: '\'ë¼ë–¼íŒŒíŒŒ\'ëŠ” ìœ¡ì•„ ì°¸ì—¬ì˜ ìƒì§•ì  1ë‹¨ê³„ì˜€ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 69, category: 'ê°€ì„¤', risk: 40, fact: 'ê³¼ê±°ì˜ ì•„ë¹ ëŠ” ê°€ë¶€ì¥ì ì´ê³  í†µì œì ì´ì—ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 70, category: 'ë¶„ì„', risk: 40, fact: '(ì´ê²ƒë“¤ì€) ë¶€ëª¨ ì„¸ëŒ€ê°€ ê²½í—˜í•˜ì§€ ëª»í•œ ìƒˆë¡œìš´ ê·œì¹™ì´ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 71, category: 'ì£¼ì¥', risk: 40, fact: '2025ë…„ ëŒ€í•œë¯¼êµ­ì˜ êµìœ¡ ì§€í˜•ì€ ìƒˆë¡œìš´ êµ­ë©´ì„ ë§ì´í–ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 72, category: 'ê°€ì„¤', risk: 40, fact: '\'ìŠ¤í„°ë””íŒŒíŒŒ\'ì˜ ë“±ì¥ìœ¼ë¡œ ì •ì„œì  ìê·¹ì´ í’ë¶€í•´ì§„ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 73, category: 'ê°€ì„¤', risk: 40, fact: '\'ìŠ¤í„°ë””íŒŒíŒŒ\'ì˜ ë“±ì¥ìœ¼ë¡œ ì§€ì  ìê·¹ì´ í’ë¶€í•´ì§„ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 74, category: 'ì‚¬ë¡€', risk: 35, fact: '(ê³¼ê±° ì •ë³´ë ¥ ì˜ˆì‹œ) ì–´ëŠ í•™ì›ì´ ì¢‹ì€ì§€.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 75, category: 'ì‚¬ë¡€', risk: 35, fact: '(ê³¼ê±° ì •ë³´ë ¥ ì˜ˆì‹œ) ì–´ëŠ ë³‘ì›ì´ ì¢‹ì€ì§€.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 76, category: 'ì£¼ì¥', risk: 35, fact: 'ë¶€ëª¨ë“¤ì€ "ì–´ëŠ í•™ì›ì´ AI ì½”ë”©ì„ ì˜ ê°€ë¥´ì¹˜ëŠ”ê°€"ë¥¼ ë„˜ì–´ì„œì•¼ í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 77, category: 'ëª©í‘œ', risk: 35, fact: '\'AI êµê³¼ì„œ\'ì™€ ê°™ì€ ìƒˆë¡œìš´ ë„ì „ì— ë¶€ëª¨ê°€ í•¨ê»˜ ëŒ€ì‘í•œë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 78, category: 'ì‚¬ì‹¤', risk: 30, fact: '(í•„ìëŠ”) \'ëˆ„êµ¬ë‚˜ í‰ìƒ ê³µë¶€í•´ì•¼ í•œë‹¤\'ë¥¼ í‰ì†Œì— ì—­ì„¤í•´ì™”ë‹¤.', status: 'í™•ì¸ ë¶ˆê°€'},
      {no: 79, category: 'ì£¼ì¥', risk: 30, fact: 'ì´ëŸ¬í•œ ë³€í™”ëŠ” êµ­ê°€ì˜ ë¯¸ë˜ì™€ ì—°ê²°ëœë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 80, category: 'ë¹„ìœ ', risk: 30, fact: 'ìë…€ êµìœ¡ì€ ì—„ë§ˆ í˜¼ì ì§Šì–´ì§€ëŠ” \'ì „ìŸ\'ì´ ì•„ë‹ˆë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 81, category: 'ë¹„ìœ ', risk: 30, fact: '(ìë…€ êµìœ¡ì€) ë¶€ëª¨ê°€ í•¨ê»˜ ì „ëµì„ ì§œëŠ” \'íŒ€ í”„ë¡œì íŠ¸\'ë‹¤.', status: 'ë§¥ë½ìƒ ì‚¬ì‹¤'},
      {no: 82, category: 'ì£¼ì¥', risk: 25, fact: '(ì¡°ì„ ì¼ë³´ ê¸°ì‚¬ëŠ”) ì¢‹ì€ ì°¸ê³  ìë£Œë¼ ì†Œê°œí•œë‹¤.', status: 'í™•ì¸ ë¶ˆê°€'},
      {no: 83, category: 'ì‚¬ì‹¤', risk: 25, fact: '(í•„ìëŠ”) í‰ì†Œ \'í•¨ê»˜ í•˜ëŠ” ê³µë¶€\' ì‚¬ë¡€ë¥¼ ê°•ì¡°í•´ì™”ë‹¤.', status: 'í™•ì¸ ë¶ˆê°€'},
      {no: 84, category: 'ì£¼ì¥', risk: 20, fact: 'ì›ë¬¸ ê¸°ì‚¬ë¥¼ ì½ì–´ ë³¼ ê²ƒì„ ì¶”ì²œí•œë‹¤.', status: 'í™•ì¸ ë¶ˆê°€'},
      {no: 85, category: 'ì‚¬ì‹¤', risk: 15, fact: '(í•„ìëŠ”) ì§€ì¸ ìë…€ì˜ ë¼ì´í”„ í”Œëœ ì»¨ì„¤íŒ… ì¤‘ì´ë‹¤.', status: 'í™•ì¸ ë¶ˆê°€'},
      {no: 86, category: 'ì‚¬ì‹¤', risk: 15, fact: '(í•„ìëŠ”) ì§€ì¸ ìë…€ì˜ ì§„í•™ ë° ì§„ë¡œ ì»¨ì„¤íŒ… ì¤‘ì´ë‹¤.', status: 'í™•ì¸ ë¶ˆê°€'}
    ];
    
    // DONUT CHART
    (() => {
        if (!donutData || donutData.length === 0) { console.error('âŒ Donut chart data is empty.'); return; }
        const svg = d3.select("#donut-chart").append("svg").attr("width", "100%").attr("height", "100%").attr("viewBox", "0 0 320 320").append("g").attr("transform", "translate(160, 160)");
        const pie = d3.pie().value(d => d.count).sort(null);
        const arc = d3.arc().innerRadius(80).outerRadius(140);
        const total = d3.sum(donutData, d => d.count);
        svg.selectAll("path").data(pie(donutData)).enter().append("path")
            .attr("fill", d => statusColors[d.data.status] || '#95A5A6')
            .attr("d", arc).attr("stroke", "#1a2233").attr("stroke-width", "4px")
            .on("mouseover", (event, d) => { tooltip.style("opacity", 1).html(`<strong>${statusIcons[d.data.status]} ${d.data.status}</strong><br>${d.data.count}ê°œ (${(d.data.count / total * 100).toFixed(1)}%)`); d3.select(event.currentTarget).transition().duration(200).attr("transform", "scale(1.05)"); })
            .on("mousemove", (event) => tooltip.style("left", (event.pageX + 15) + "px").style("top", (event.pageY - 28) + "px"))
            .on("mouseout", (event) => { tooltip.style("opacity", 0); d3.select(event.currentTarget).transition().duration(200).attr("transform", "scale(1)"); });
        svg.append("text").attr("text-anchor", "middle").attr("dy", "-0.5em").style("font-size", "2.5rem").style("font-weight", "bold").style("fill", "white").text(total);
        svg.append("text").attr("text-anchor", "middle").attr("dy", "1.0em").style("font-size", "1rem").style("fill", "#9ca3af").text("ì´ í•­ëª©");
        const legendContainer = d3.select("#donut-legend");
        donutData.forEach(({status}) => { const li = legendContainer.append("div").attr("class", "legend-item"); li.append("div").attr("class", "legend-color").style("background-color", statusColors[status]); li.append("span").text(status); });
    })();
    
    // BAR CHART
    (() => {
        if (!barData || barData.length === 0) { console.error('âŒ Bar chart data is empty.'); return; }
        const margin = { top: 20, right: 20, bottom: 40, left: 60 };
        const container = d3.select("#bar-chart");
        const width = container.node().getBoundingClientRect().width - margin.left - margin.right;
        const height = container.node().getBoundingClientRect().height - margin.top - margin.bottom;
        const svg = container.append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        const uniqueBarData = []; const seenLevels = new Set();
        barData.forEach(item => { if (!seenLevels.has(item.level)) { seenLevels.add(item.level); uniqueBarData.push(item); }});
        const stack = d3.stack().keys(statusOrder.filter(key => uniqueBarData.some(d => d[key] > 0)));
        const series = stack(uniqueBarData);
        const x = d3.scaleBand().domain(uniqueBarData.map(d => d.level)).range([0, width]).padding(0.3);
        const y = d3.scaleLinear().domain([0, d3.max(uniqueBarData, d => d.total)]).nice().range([height, 0]);
        svg.append("g").selectAll("g").data(series).join("g").attr("fill", d => statusColors[d.key]).selectAll("rect").data(d => d).join("rect")
            .attr("x", d => x(d.data.level)).attr("y", d => y(d[1])).attr("height", d => Math.max(0, y(d[0]) - y(d[1]))).attr("width", x.bandwidth())
            .on("mouseover", (event, d) => { const key = d3.select(event.currentTarget.parentNode).datum().key; tooltip.style("opacity", 1).html(`<strong>${d.data.level}</strong><br>${statusIcons[key]} ${key}: ${d.data[key]}ê°œ`); })
            .on("mousemove", (event) => tooltip.style("left", (event.pageX + 15) + "px").style("top", (event.pageY - 28) + "px"))
            .on("mouseout", () => tooltip.style("opacity", 0));
        svg.append("g").attr("transform", `translate(0,${height})`).call(d3.axisBottom(x)).call(g => g.select(".domain").remove());
        svg.append("g").call(d3.axisLeft(y).ticks(5)).call(g => g.select(".domain").remove()).call(g => g.selectAll(".tick line").clone().attr("x2", width).attr("stroke", "#374151").attr("stroke-opacity", 0.5));
        svg.append("text").attr("x", -10).attr("y", -10).attr("class", "axis-label").style("font-size", "0.875rem").style("font-weight", "500").text("í•­ëª© ìˆ˜");
        const examplesContainer = d3.select("#bar-examples");
        uniqueBarData.forEach(item => { if (item.example) { examplesContainer.append("div").html(`<strong>${item.level}</strong> ì˜ˆì‹œ: ${item.example}`); }});
    })();
    
    // BUBBLE CHART
    (() => {
        if (!bubbleData || bubbleData.length === 0) { console.error('âŒ Bubble chart data is empty.'); return; }
        const margin = {top: 50, right: 30, bottom: 60, left: 80};
        const container = d3.select("#bubble-chart");
        const width = container.node().getBoundingClientRect().width - margin.left - margin.right;
        const height = container.node().getBoundingClientRect().height - margin.top - margin.bottom;
        const svg = container.append("svg").attr("width", "100%").attr("height", "100%").attr("viewBox", `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
        const categoryRiskMap = {};
        bubbleData.forEach(d => { if (!categoryRiskMap[d.category]) { categoryRiskMap[d.category] = { total: 0, count: 0 }; } categoryRiskMap[d.category].total += d.risk; categoryRiskMap[d.category].count += 1; });
        const categoryAvgRisk = Object.keys(categoryRiskMap).map(cat => ({category: cat, avgRisk: categoryRiskMap[cat].total / categoryRiskMap[cat].count})).sort((a, b) => b.avgRisk - a.avgRisk);
        const arrangedCategories = []; const leftSide = []; const rightSide = [];
        categoryAvgRisk.forEach((item, idx) => { if (idx === 0) { arrangedCategories.push(item.category); } else if (idx % 2 === 1) { leftSide.unshift(item.category); } else { rightSide.push(item.category); }});
        const categories = [...leftSide, ...arrangedCategories, ...rightSide].filter(cat => validCategories.includes(cat));
        const statuses = statusOrder.slice().reverse();
        const x = d3.scalePoint().domain(categories).range([0, width]).padding(0.5);
        const y = d3.scalePoint().domain(statuses).range([height, 0]).padding(0.5);
        const radius = d3.scaleSqrt().domain(d3.extent(bubbleData, d => d.risk)).range([4, 28]);
        svg.append("g").attr("transform", `translate(0,${height})`).call(d3.axisBottom(x)).call(g => g.select(".domain").remove());
        svg.selectAll("yGrid").data(statuses).enter().append("line").attr("x1", 0).attr("x2", width).attr("y1", d => y(d)).attr("y2", d => y(d)).attr("stroke", "#374151").attr("stroke-dasharray", "2,2");
        svg.append("g").call(d3.axisLeft(y).tickSize(0).tickPadding(10)).select(".domain").remove();
        const nodes = svg.selectAll(".node").data(bubbleData).enter().append("circle").attr("class", "node")
            .attr("r", d => radius(d.risk)).style("fill", d => statusColors[d.status]).style("fill-opacity", 0.7).style("stroke", d => statusColors[d.status]).style("stroke-width", 2)
            .on("mouseover", (event, d) => { tooltip.style("opacity", 1).html(`<strong>[No.${d.no}] [${d.category}]</strong><br>${d.fact}<br><span class="tooltip-risk">Risk: ${d.risk}</span><br>${statusIcons[d.status]} ${d.status}`); d3.select(event.currentTarget).style("fill-opacity", 1).style("stroke-width", 3); })
            .on("mousemove", (event) => tooltip.style("left", (event.pageX + 15) + "px").style("top", (event.pageY - 28) + "px"))
            .on("mouseout", (event) => { tooltip.style("opacity", 0); d3.select(event.currentTarget).style("fill-opacity", 0.7).style("stroke-width", 2); });
        d3.forceSimulation(bubbleData)
            .force("x", d3.forceX(d => x(d.category)).strength(0.15))
            .force("y", d3.forceY(d => y(d.status)).strength(1.2))
            .force("collide", d3.forceCollide(d => radius(d.risk) + 2).strength(0.95))
            .force("bounds", () => { bubbleData.forEach(d => { const r = radius(d.risk); d.x = Math.max(r, Math.min(width - r, d.x)); d.y = Math.max(r, Math.min(height - r, d.y)); });})
            .on("tick", () => nodes.attr("cx", d => d.x).attr("cy", d => d.y));
        const legendContainer = d3.select("#bubble-chart-legend");
        statusOrder.slice().reverse().forEach(status => { const li = legendContainer.append("div").attr("class", "legend-item"); li.append("div").attr("class", "legend-color").style("background-color", statusColors[status]); li.append("span").text(status); });
    })();
</script>
</body>
</html>
